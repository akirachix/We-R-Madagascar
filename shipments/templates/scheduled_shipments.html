{% extends 'flightres/base.html' %} {% load static %}
{% load static %}
{% block links %}
<link rel="stylesheet" type="text/css" href="{% static 'css/custom-charts.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/apexcharts.css' %}" />
{% endblock links %}


{% block body %}
<style>
  body {
    font-family: 'Nunito', sans-serif;
  }

  th {
    color: #117BCC !important;
   font-weight: bold;
  }

  .heading{
    margin-bottom: 2.5%;
    font-size: 1.5rem;
  }
  /* .search{
    margin-left: 30%;
  } */
</style>


<!-- <div class="search">
  <form method="get" class="w-100" action="{% url 'shipments:search_shipment' %}">
    <button type="submit" class="search-button">
      <i class="fas fa-search"></i>
    </button>
    <input type="search" placeholder="shipment_id" name="search" />
  </form>
  {%if message%}
  <h6>{{message}}</h6>
  {%endif%}

  {%if results%}
  <p class="results">Found {{results}} clinic{{ results|pluralize }}</p>
  {%endif%}
</div> -->

<main class="admin-main">
  <div class="panel panel-default">

    <div class="float-right" style="margin-top: 3.5%; margin-bottom: 0.25%">
      <p>Total Scheduled Shipments:
      <h3>{{ schedule_count }}</h3>
      </p>
    </div>

    <p class="heading" style="color: #117BCC;"> Shipments Details</p>


    <div class="container">
      <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0" data-page-length="3" data-order=" [[ 2, "asc" ]]">
          <thead>
              <tr>
                <th>Shipment Id </th>
                <th>Clinic Name</th>
                <th>Medication</th>
                <th>Units</th>
                <th>Delivery Date </th>
                <th> Takeoff Time</th>
                <th>Delivery Time</th>
                <th>Destination </th>
                <th> Status</th>
                <th></th>
              </tr>
          </thead>
          <tbody>
            {% for shipment in mylist %}

            <tr>
              <td>{{shipment.shipment_id}}</td>
              <td>{{shipment.clinic_name}}</td>
              <td>{{shipment.medication}}</td>
              <td>{{shipment.units}}</td>
              <td>{{shipment.delivery_date}}</td>
              <td>{{shipment.take_of_time}}</td>
              <td>{{shipment.delivery_time}}</td>
              <td>{{shipment.destination}}</td>
              <td>{{shipment.status}}</td>
              <td><a id="edit_shipment" href="{%url 'shipments:edit_shipment' shipment.id%}"><button type="submit"
                    class="save btn btn-primary">Edit</button></td></a>
            </tr>
            {% endfor %}
          </tbody>
      </table>
    </div>
  </div>
</main>
{%endblock body%}

<script>

// $(document).ready(function () {
//     $('#dataTable').DataTable();
// });
$(document).ready(function () {
    $('#dataTable').DataTable({
      "paging": true,
      "pageLength": 10,
      "lengthChange": true,
      "searching": true,
      "filter": true,
      "ordering": true,
      "bInfo": true,
      "bSort": true,
      "autoWidth": true
      });
    });
</script>