{% extends 'flightres/base.html' %} {% load static %}
{% load static %}
{% block links %}
<link rel="stylesheet" type="text/css" href="{% static 'css/custom-charts.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/apexcharts.css' %}" />
{% endblock links %}


{% block body %}
<style>
  body {
    font-family: 'Nunito', sans-serif;
  }

  th {
    color: #117BCC !important;
    font-weight: bold;
  }

  .heading {
    margin-bottom: 2.5%;
    font-size: 1.5rem;
  }
</style>


<main class="admin-main">
  <div class="panel panel-default">

    <p class="heading" style="color: #117BCC;"> Delayed Shipments</p>

    <div class="float-right" style="margin-bottom:0.5% ; margin-top: 1.5%;">
      <p>Total Delayed Shipments:<h3>{{ delayed_count }}</h3></p>
    </div>


    <div class="container">
      <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0" data-page-length="3" data-order=" [[ 2, "asc" ]]">
          <thead>
              <tr>
                <th>Shipment Id </th>
                <th>Destination </th>
                <th> Delay Reasons</th>
                <th> Status</th>
              </tr>
          </thead>
          <tbody>
            {% for shipment in shipments_list %} 
  
              <tr>
                <td>{{shipment.shipment_id}}</td>
                <td>{{shipment.destination}}</td>
                <td>{{shipment.delay_reasons}}</td>
                <td>{{shipment.status}}</td>
                <td><a id="edit_delay" href="{%url 'shipments:edit_delays' shipment.id%}"><button type="submit" class="save btn btn-primary">Reschedule Shipment</button></td></a>
              </tr>
            {% endfor %}
          </tbody>
      </table>
    </div>
  </div>
</main>
{%endblock body%}

<script>
  $(function () {
    $('#dataTable').DataTable({
      "pageLength": 3,
      "paging": true,
      "lengthChange": false,
      "searching": true,
      "filter": true,
      "ordering": true,
      "info": true,
      "autoWidth": false
      });
  });
</script>